default:
  suites:
    default:
      paths:
        - "%paths.base%/features/"
      contexts:
        - FeatureContext
        - UserContext
  formatters:
    pretty: ~
    junit:
      output_path: "%paths.base%/reports/junit"
    html:
      output_path: "%paths.base%/reports/html"

profiles:
  # Perfil para CI (sin video)
  ci:
    suites:
      default:
        paths:
          - "%paths.base%/features/"
        contexts:
          - FeatureContext
          - UserContext
    formatters:
      pretty: ~
      junit:
        output_path: "%paths.base%/reports/junit"
      html:
        output_path: "%paths.base%/reports/html"
    extensions:
      emuse\BehatHTMLFormatter\BehatHTMLFormatterExtension:
        name: html
        renderer: Twig,Behat2
        file_name: index
        print_args: true
        print_outp: true

  # Perfil con grabaci√≥n de video
  video:
    suites:
      default:
        paths:
          - "%paths.base%/features/"
        contexts:
          - FeatureContext
          - UserContext
    formatters:
      pretty: ~
      junit:
        output_path: "%paths.base%/reports/junit"
      html:
        output_path: "%paths.base%/reports/html"
    extensions:
      Behat\MinkExtension:
        base_url: "http://tu-app.test"
        javascript_session: playwright
        sessions:
          playwright:
            playwright:
              browser: chromium
              video: on
              traces_dir: reports/traces
      emuse\BehatHTMLFormatter\BehatHTMLFormatterExtension:
        name: html
        renderer: Twig,Behat2
        file_name: index
        print_args: true
        print_outp: true
